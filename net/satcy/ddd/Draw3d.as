package net.satcy.ddd{	import flash.display.*;	//import com.foxaweb.utils.Raster;	import flash.geom.*;	import flash.utils.*;	public class Draw3d{				private var t_mc:*;		private var word_arr:Array  = new Array();		private var xy_arr:Array  = new Array();				public function Draw3d(_t_mc:*){			t_mc = _t_mc;		}		public function setLineArray(_arr:Array):void{			word_arr = _arr;			xy_arr  = new Array()			var n = word_arr.length;			for(var i:int=0;i<n;i++){				var obj:Object = new Object();				obj.x = word_arr[i].t_mc.x;				obj.y = word_arr[i].t_mc.y;				obj.c_x = word_arr[i].t_mc.x;				obj.c_y = word_arr[i].t_mc.y;				obj.reach = false;				xy_arr.push(obj);			}					}		public function render():void{			if(word_arr == null){				return;			}			if(word_arr.length < 2){				return;			}			var n = word_arr.length;			var gra:Graphics = t_mc.graphics;			gra.clear();						//var rect:Rectangle = new Rectangle(0, 0, 1280, 1024);			//t_mc.fillRect(rect, 0x000000);			//			for(var i:int=1;i<n;i++){								var mc_0 = word_arr[i-1].t_mc;				var mc_1 = word_arr[i].t_mc;								if(xy_arr[i-1].reach == false){					var dx = (mc_1.x - xy_arr[i-1].x)*0.1;					var dy = (mc_1.y - xy_arr[i-1].y)*0.1;					/*if(dx<0){						dx = (dx<-20) ? -20 : dx;					}else{						dx = (dx>20) ? 20 : dx;					}					if(dy<0){						dy = (dy<-20) ? -20 : dy;					}else{						dy = (dy>20) ? 20 : dy;					}					*/					xy_arr[i-1].x += dx;					xy_arr[i-1].y += dy;					if(dx<1 && dx>-1 && dy<1 && dy>-1){						xy_arr[i-1].reach = true;					}				}else{					xy_arr[i-1].x = mc_1.x;					xy_arr[i-1].y = mc_1.y;				}				xy_arr[i-1].c_x += ((mc_1.x+mc_0.x)*0.5 - xy_arr[i-1].c_x)*0.05;				xy_arr[i-1].c_y += ((mc_1.y+mc_0.y)*0.5 - xy_arr[i-1].c_y)*0.05;				//if(mc_0.x >= 0 && mc_0.x<1280 || mc_1.x >= 0 && mc_1.x<1280){					//if(mc_0.y >= 0 && mc_0.y<1024 || mc_1.y >= 0 && mc_1.y<1024){						/*Raster.line(t_mc,								mc_0.x,mc_0.y,								xy_arr[i].x,xy_arr[i].y,0xCCCCCC);*/					//}				//}								if(mc_0.x >= 0 && mc_0.x<1280 && mc_1.x >= 0 && mc_1.x<1280){					if(mc_0.y >= 0 && mc_0.y<1024 && mc_1.y >= 0 && mc_1.y<1024){				gra.lineStyle(1, 0x00FF00, (mc_1.scaleY>1)?1:mc_1.scaleY);				gra.moveTo(mc_0.x, mc_0.y);				//gra.lineTo(mc_1.x, mc_1.y);				gra.curveTo(xy_arr[i-1].c_x, xy_arr[i-1].c_y, xy_arr[i-1].x, xy_arr[i-1].y);				//gra.beginFill(0xFFFFFF, 1);									//gra.drawCircle(xy_arr[i].x, xy_arr[i].y, 1);				//gra.endFill();					}				}			}		}			}}