package net.satcy.bitmap{	import flash.display.*;	import flash.geom.*;	import caurina.transitions.Tweener;	public class HSliceSlideTransition extends Sprite{		private var mc:*;		private var target_mc:*;				/*		var hsst_args:Object = {mc:this, t_mc:about_mc, slice_num:50, tween_time:1, delay_factor:0.05, transition:"liner"};		var hsst = new HSliceSlideTransition(hsst_args);				*/		public function HSliceSlideTransition(args:Object){			mc = args.mc;						target_mc = args.t_mc;			target_mc.visible = false;						this.x = target_mc.x;			this.y = target_mc.y;						var duration:uint = args.tween_time;			var delay_factor:Number = args.delay_factor;			var slice_num:int = args.slice_num;			var transition:String = args.transition;												var cell_width:Number = target_mc.width;			var cell_height:Number = Math.floor(target_mc.height/slice_num);						for(var i:int = 0; i<slice_num; i++){				var bmd:BitmapData = new BitmapData(cell_width, cell_height, true, 0x00000000);				var myMatrix:Matrix = new Matrix();				myMatrix.translate(0, -cell_height*i);				bmd.draw(target_mc, myMatrix);								var bm:Bitmap = new Bitmap(bmd, "auto", true);				bm.y = cell_height*i;				bm.scaleY = 0;				addChild(bm);				if(i<slice_num-1){					Tweener.addTween(bm, {scaleY:1, time:duration, delay:i*delay_factor, transition:transition});				}else{					Tweener.addTween(bm, {scaleY:1, time:duration, delay:i*delay_factor, transition:transition, onComplete:endTransition});									}			}			this.name = "hsst";			mc.addChild(this);					}		public function endTransition(){			removeDisplayChildren(this);			target_mc.visible = true;			target_mc = null;						mc.removeChild(this);			mc = null;			delete this;		}		private function removeDisplayChildren(_mc:*){			var mc:* = _mc;			var c_num:int = mc.numChildren;			if(c_num>0){				for(var i:int = 0;i<c_num;i++){					mc.removeChildAt(0);				}			}		}	}		}