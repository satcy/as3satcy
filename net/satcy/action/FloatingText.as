package net.satcy.action{	import com.greensock.TweenMax;	import com.greensock.easing.Expo;	import com.greensock.easing.Linear;		import flash.display.*;	import flash.events.*;	import flash.text.*;		import net.satcy.util.EnterFrame;	public class FloatingText extends Sprite{		public var counter:Number;		protected var max_count:int;		protected var to_str:String;		protected var mc_txt:TextField;		public function FloatingText(_txt:TextField, str:String){			mc_txt = _txt;			to_str = str;			max_count = to_str.length;			counter = 0;		}		public function run(_time:Number = 0.5):void{			counter = 0;			EnterFrame.add(this, update);			TweenMax.to(this, _time, {counter:max_count, ease:Expo.easeInOut, onComplete:endTween});		}		protected function update(e:Event):void{			mc_txt.text  = "";			for(var i:int = 0;i<max_count;i++){				if(Math.floor(counter)>i){					mc_txt.appendText( to_str.charAt(i) );				}else{					var rand = Math.floor(Math.random()*64)+64;					mc_txt.appendText( String.fromCharCode(rand) );					//mc_txt.text = mc_txt.text + "-";				}			}		}		public function destroy():void{			EnterFrame.remove(this);			TweenMax.killTweensOf(this);			endTween();		}		public function endTween(){			EnterFrame.remove(this);			if ( mc_txt ) mc_txt.text  = to_str;			mc_txt = null;			to_str = null;		}	}		}