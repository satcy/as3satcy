package net.satcy.action{	import caurina.transitions.Tweener;		import com.greensock.TweenMax;		import flash.display.*;	import flash.events.*;	import flash.text.*;		import net.satcy.util.EnterFrame;	public class FloatingText extends Sprite{		public var counter:Number;		protected var max_count:int;		protected var to_str:String;		protected var mc_txt:TextField;		protected var useStr:String;		public function FloatingText(_txt:TextField, str:String, useStr:String = null){			mc_txt = _txt;			to_str = str;			this.useStr = useStr;			max_count = to_str.length;			counter = 0;		}		public function run(_time:Number = 0.5):void{			counter = 0;			EnterFrame.add(this, update);			Tweener.addTween(this, {time:_time, counter:max_count, transition:"easeOutQuart", onComplete:endTween});			//TweenMax.to(this, _time, {counter:max_count, ease:Expo.easeInOut, onComplete:endTween});		}		protected function update(e:Event):void{			mc_txt.text  = "";			var s:String = "";			for(var i:int = 0;i<max_count;i++){				if(Math.floor(counter)>i){					s += to_str.charAt(i)				}else{					var rand:int = 0;					if ( useStr ) {						rand = Math.random()*useStr.length; 						s += useStr.charAt(rand);					} else {						rand = Math.floor(Math.random()*64)+64;						s += String.fromCharCode(rand);					}					//mc_txt.text = mc_txt.text + "-";				}			}			mc_txt.text = s;		}		public function destroy():void{			EnterFrame.remove(this);			TweenMax.killTweensOf(this);			endTween();		}		public function endTween():void{			EnterFrame.remove(this);			if ( mc_txt ) mc_txt.text  = to_str;			mc_txt = null;			to_str = null;		}	}		}